{% extends "base.html" %}
{% block title %}Diagramm{% endblock %}
{% block content %}

<div class="container">
  <form method="get" action="{{ url_for('diagramm') }}" style="margin-bottom: 25px;">
    <select name="jahr" class="modern-select">
      <option value="alle" {% if jahr_auswahl == 'alle' %}selected{% endif %}>Alle Jahre</option>
      {% for y in jahre %}
        <option value="{{ y }}" {% if y|string == jahr_auswahl|string %}selected{% endif %}>{{ y }}</option>
      {% endfor %}
    </select>
    <button type="submit" class="modern-button">Anzeigen</button>
  </form>

  <h2>Aktueller Finanzverlauf</h2>
  <div>
    {{ plot_html|safe }}
  </div>
  {% if break_even_monat %}
    <p style="color:green; font-weight:bold;">✅ Break-Even erreicht in: <strong>{{ break_even_monat }}</strong></p>
  {% else %}
    <p style="color:red;">❌ Break-Even wurde noch nicht erreicht.</p>
  {% endif %}
</div>

<div class="nav-links">
  <a href="{{ url_for('home') }}" class="button-link">⏎ Neue Eingabe</a>
</div>

<style>
  .container { max-width:1020px; margin:auto; padding:30px; background-color:#FFFFFF; box-shadow:0 4px 12px rgba(0,0,0,0.1); border-radius:12px; }
  h2 { text-align:center; color:#4B0082; }
  .nav-links { display:flex; justify-content:center; gap:20px; margin-top:30px; }
  .button-link { background-color:#9370DB; color:white; padding:10px 20px; border-radius:6px; text-decoration:none; font-weight:bold; transition:.3s; }
  .button-link:hover { background-color:#7B68EE; }
  .modern-select { width:100%; padding:8px; border:1px solid #CCC; border-radius:6px; background-color:#F0F0FF; font-size:16px; color:#333; }
  .modern-button { background:#9370DB; color:white; border:none; padding:10px; margin-top:20px; width:100%; font-size:16px; border-radius:6px; cursor:pointer; transition:.3s; }
  .modern-button:hover { background-color:#7B68EE; }
</style>
{% endblock %}
